language: java
jdk:
  - openjdk8

addons:
  sonarcloud:
    organization: "wenhao"
    token:
      secure: "UwjJb8gM/t8ETVrEpy+TkO6D4PMhntfHYaQ8qDOtf4OJtVqtFb3b58EaK0+jY/1k2W2yusKtgAnNPLifwGb60c9n+Uqt46uQwzxRaejFaALdm+OQgs+oDAejZkL1/ghbKDoP8+hP0FZ2C6BLTUsStQsqL1H7esZYyuZ1UDLe3JZWTu49Dzk7LnDvwzq/pqLDWaMvrLgbKr7rjz31oYQWo6nLZqPfi+pk/xf8K7b8AK6dtsha3tY94BnxehVUuRp4G9M1pYI9qPgqvAauK1TYoGRq2GpCSUCC7aCQvy9KddTfFwGyHRrFoIYTD7r0qRPpOEvR8ZgEFyT2DMt9Lu8KAHBtEOK61TAqYeOXhH18iX/fzVOGMpfvTgniHKkAOzzFjZ3LfZaEGLOb2dMgp1jkESEgEhEjRlpMZrw/upyGiAyHK3t0HSOPEvonJoTyeIpJM7k6lt3Z4wnCmo2Zw3FfD454nfVXreqdqOKm0OP/8V3l5TiA1pa0N2CCSu71dB00XIiEIs6I3e5cmuexfokHfx+J3ASFEheSx3eNPt8OyXnO9K5LNoiB3Nn5g7stLUyggAoM6zujLH4FiwuxgHw4IXuCSRjj9835ANRZpoihAoh/muxDq8v9q8/vjcypmW9l3U8uZajnUgG7i3H2aB0tmgba6dz3zGrSxmhEAyS7jWg="
cache:
  directories:
    - '$HOME/.m2/repository'
    - '$HOME/.sonar/cache'
    - '$HOME/.gradle'
    - '.gradle'

install:
  - TERM=dumb ./gradlew assemble

script:
  - TERM=dumb ./gradlew check sonarqube -i

after_success:
  - bash <(curl -s https://codecov.io/bash)